# Experiment matrix (seed 0)

This table summarizes training conditions and the main pre/post results.
It is generated by `scripts/export_experiment_matrix.py`.

## Metric conventions and notes

- **TruthfulQA** refers to `truthfulqa_mc2` (0-shot) and reports the lm-eval-harness metric `acc`,
  where `acc` is the MC2 score (probability mass assigned to choices labeled as true).
- **ARC-Easy** refers to `arc_easy` (0-shot) and reports `acc_norm`.
- `steps_est` is an estimate derived from `n_train`, `num_train_epochs` and the effective batch size
  (`per_device_train_batch_size × gradient_accumulation_steps`) because `max_steps = -1`.
- `delta_acc_tqa = acc_tqa_post − acc_tqa_pre` (TruthfulQA_mc2).
- `delta_acc_ci95` is a paired 95% CI from bootstrap over TruthfulQA items (seed 0 runs).
- `delta_u = acc_norm_post − acc_norm_pre` (ARC-Easy).
- `p_mcnemar` is the exact two-sided McNemar p-value on ARC-Easy predictions (seed 0).
- Since `HR_TQA = 1 − acc(MC2)`, it holds that `ΔHR_TQA = −Δacc_tqa`.

Seed 0 is reported as representative because the evaluation protocol is deterministic and aggregated
metrics are (numerically) identical across seeds {0,1,2} under this protocol.

| adapter | dataset | n_train | steps_est | acc_tqa_pre | acc_tqa_post | delta_acc_tqa | delta_acc_ci95 | acc_norm_pre | acc_norm_post | delta_u | p_mcnemar |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| alpaca_1k | yahma/alpaca-cleaned | 1000 | 188 | 0.524274 | 0.543803 | 0.0195284 | [+0.011118, +0.027699] | 0.780724 | 0.838384 | 0.0576599 | 1.94131e-22 |
| alpaca_10k | yahma/alpaca-cleaned | 10000 | 1875 | 0.524274 | 0.559953 | 0.0356782 | [+0.024532, +0.047022] | 0.780724 | 0.838805 | 0.0580808 | 5.30854e-20 |
| alpaca_full | yahma/alpaca-cleaned | 50000 | 9375 | 0.524274 | 0.568320 | 0.0440456 | [+0.031859, +0.056608] | 0.780724 | 0.823653 | 0.0429293 | 1.1132e-10 |
| dolly_5k | docs/datasets/dolly_5k.jsonl | 5000 | 938 | 0.524274 | 0.453900 | -0.0703744 | [-0.086888, -0.054180] | 0.780724 | 0.820286 | 0.0395623 | 1.19846e-09 |
| dolly_full | docs/datasets/dolly_15k.jsonl | 15000 | 2813 | 0.524274 | 0.445125 | -0.0791499 | [-0.096044, -0.062956] | 0.780724 | 0.843013 | 0.0622896 | 1.08908e-19 |
